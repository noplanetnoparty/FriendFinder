<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Survey</title>
    <!-- Bootstrap & jQuery-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">

</head>

<body>

    <div class="container">
        <h1 class="text-center m-3">Friend Finder - Match Survey</h1>
        <hr>
        <h2 class="text-center text-info">Take the survey below to find your match!</h2>
        <div class="bg-light border mx-5">
            <h3 class="text-center text-dark">Please respond to each statement</h3>
            <h5 class="text-center text-body"><strong class="text-danger">1 (Strong Disagree)</strong> to <strong class="text-success">5
                    (Strongly Agree)</strong></h5>
        </div>
        <br>
        <br>

        <h4>Name (Required)</h4>
        <input type="text" id="name" class="form-control border border-secondary" required="" placeholder="John Doe">
        <br>
        <h4>Link to photo (Required)</h4>
        <input type="text" id="photo" class="form-control border border-secondary" required="" placeholder="my-photo.png">
        <br>
        <hr>
        <div class="form-group">
            <h5 class="mx-auto">Question 1</h5>
            <label>I prefer going out to dinner more than staying in to cook a meal</label>
            <select class="form-control" id="q1">
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
        </div>
        <div class="form-group">
            <h5>Question 2</h5>
            <label>I enjoy going camping</label>
            <select class="form-control" id="q2">
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
        </div>
        <div class="form-group">
            <h5>Question 3</h5>
            <label>When I have free time, I typically find something active to do</label>
            <select class="form-control" id="q3">
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
        </div>
        <div class="form-group">
            <h5>Question 4</h5>
            <label>I would consider myself a dog person</label>
            <select class="form-control" id="q4">
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
        </div>
        <div class="form-group">
            <h5>Question 5</h5>
            <label>My friends would describe me as easy-going</label>
            <select class="form-control" id="q5">
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
        </div>
        <div class="form-group">
            <h5>Question 6</h5>
            <label>I enjoy playing tennis</label>
            <select class="form-control" id="q6">
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
        </div>
        <div class="form-group">
            <h5>Question 7</h5>
            <label>I have strong relationships with my family members and close friends</label>
            <select class="form-control" id="q7">
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
        </div>
        <div class="form-group">
            <h5>Question 8</h5>
            <label>I enjoy having time to myself</label>
            <select class="form-control" id="q8">
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
        </div>
        <div class="form-group">
            <h5>Question 9</h5>
            <label>I enjoyed reading as a child</label>
            <select class="form-control" id="q9">
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
        </div>
        <div class="form-group">
            <h5>Question 10</h5>
            <label>I confide in a close friend or family member when stressed</label>
            <select class="form-control" id="q10">
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
        </div>

        <button type="submit" class="btn btn-primary btn-lg btn-block mx-auto mt-5" id="submit" style="width: 70%">Submit</button>

    </div>
    <footer class="footer mt-5">
        <div class="container text-center">
            <p><a href="/api/friends">API Friends List</a> | <a href="/app/public/home">Start Over</a>
        </div>
    </footer>
    <!-- Modal1 -->
    <!-- <div id="match-modal" class="modal fade" role="dialog">
    <div class="modal-dialog"> -->

    <!-- Modal content-->
    <!-- <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h2 class="modal-title"><strong>Your Match!</strong></h2>
        </div>
        <div class="modal-body">
          <h2 id="match-name"></h2>
          <img id="match-img" src="https://via.placeholder.com/150" alt="">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div> -->
    <!-- Modal2 -->
    <!-- <div class="modal fade" id="match-modal" tabindex="-1" role="dialog" aria-labelledby="MatchModal" aria-hidden="true">

        <div class="modal-dialog" role="document">


            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title w-100" id="myModalLabel">Your Match</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <h2 id="match-name"></h2>
                    <img id="match-img" src="https://via.placeholder.com/150"
                        alt="">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div> -->


    <div class="container" id="display">
        <p id="match-name"></p>
        <img id="match-img">
    </div>

</body>
<script type="text/javascript">
    $("#display").hide();
    $("#submit").on("click", function (event) {
        event.preventDefault();
        // Create an object for the users data
        var userInput = {
            name: $("#name").val(),
            photo: $("#photo").val(),
            // change front end validation to make sure only photo input
            scores: [
                parseInt($("#q1").val()),
                parseInt($("#q2").val()),
                parseInt($("#q3").val()),
                parseInt($("#q4").val()),
                parseInt($("#q5").val()),
                parseInt($("#q6").val()),
                parseInt($("#q7").val()),
                parseInt($("#q8").val()),
                parseInt($("#q9").val()),
                parseInt($("#q10").val())
            ]
        };
        console.log(userInput)

        $.post("/api/friends", userInput).then(function (data) {
            // Grab the result from the AJAX post so that the best match's name and photo are displayed.
            $("#display").show();
            $("#match-name").text(data.name);
            $("#match-img").attr("src", data.photo);
            // $("#match-modal").modal("toggle");
        });
    })
</script>

</html>